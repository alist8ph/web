<admintpl file="header" />
</head>
<body>
	<div class="wrap">
		<ul class="nav nav-tabs">
			<li><a href="{:U('Configprivate/index')}">设置</a></li>
			<li><a href="{:U('Configprivate/lists')}">管理</a></li>
			<li   class="active"><a >{$info['id']?'编辑':'新增'} </a></li>
		</ul>
		<form method="post" class="form-horizontal js-ajax-form" action="{:U('Configprivate/update')}">
			<fieldset>
				<div class="control-group">
					<label class="control-label">序号</label>
					<div class="controls">
						<input type="text" name="orderno" value="{$info.orderno}"> 
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">字段名</label>
					<div class="controls">
						<input type="text" name="name" value="{$info.name}"> （请输入字段名 英文字母开头，长度不超过30）
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">字段标题</label>
					<div class="controls">
						<input type="text" name="title" value="{$info.title}" > （请输入字段标题，用于表单显示）
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">字段类型</label>
					<div class="controls">
							<select name="type" id="data-type">
										<option value="">----请选择----</option>
										<option value="num" rule="int(10) UNSIGNED NOT NULL" <if condition="$info.type eq 'num'">selected</if> >数字</option>
										<option value="string" rule="varchar(255) NOT NULL" <if condition="$info.type eq 'string'">selected</if> >字符串</option>
										<option value="textarea" rule="text NOT NULL" <if condition="$info.type eq 'textarea'">selected</if> >文本框</option>
										<!-- <option value="datetime" rule="int(10) NOT NULL" <if condition="$info.type eq 'datetime'">selected</if> >时间</option> -->
										<!-- <option value="bool" rule="tinyint(2) NOT NULL" <if condition="$info.type eq 'bool'">selected</if> >布尔</option> -->
										<option value="select" rule="char(50) NOT NULL" <if condition="$info.type eq 'select'">selected</if> >枚举</option>
										<option value="radio" rule="char(10) NOT NULL" <if condition="$info.type eq 'radio'">selected</if> >单选</option>
										<option value="checkbox" rule="varchar(100) NOT NULL" <if condition="$info.type eq 'checkbox'">selected</if> >多选</option>
										<option value="editor" rule="text NOT NULL" <if condition="$info.type eq 'editor'">selected</if> >编辑器</option>
									  <option value="picture" rule="varchar(255) NOT NULL" <if condition="$info.type eq 'picture'">selected</if> >上传图片</option>
										<!-- <option value="file" rule="int(10) UNSIGNED NOT NULL" <if condition="$info.type eq 'file'">selected</if> >上传附件</option>		 -->					
							</select>								
								
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">字段定义</label>
					<div class="controls">
						<input type="text" name="field" value="{$info.field}" id="data-field"> （字段属性的sql表示）
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">参数</label>
					<div class="controls">
						<textarea name="extra" style="height:100px;">{$info.extra}</textarea> （<!-- 布尔、 -->枚举、多选字段类型的定义数据）
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">默认值</label>
					<div class="controls">
						<input type="text" name="value" value="{$info.value}"  > （字段的默认值）
					</div>
				</div>
				<div class="control-group">
					<label class="control-label">字段备注</label>
					<div class="controls">
						<input type="text" name="remark" value="{$info.remark}"  >  （用于表单中的提示）
					</div>
				</div>


			</fieldset>
			<div class="form-actions">
				<input type="hidden" name="id" value="{$info.id}" />
				<button type="submit" class="btn btn-primary js-ajax-submit">
				<if condition="$info.id neq ''">
					{:L('SAVE')} 
				<else/>
					{:L('ADD')} 
				</if>
				
				
				</button>
				<a class="btn" href="{:U('Configprivate/lists')}">{:L('BACK')}</a>
			</div>
		</form>
	</div>
	<script src="__PUBLIC__/js/common.js"></script>
<script>
$(function(){
	$('#data-type').change(function(){
		$('#data-field').val($(this).find('option:selected').attr('rule'));
	});
})
</script>	
</body>
</html>